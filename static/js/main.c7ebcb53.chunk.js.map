{"version":3,"sources":["assets/logo-header.svg","assets/svg1.svg","services/firebase.ts","services/api.ts","contexts/Auth.tsx","pages/login/Login.tsx","assets/googleLogo.png","assets/Instagram.svg","assets/Linkedin.svg","assets/Facebook.svg","pages/home/Home.tsx","contexts/Layout.tsx","Components/navBar/NavBar.tsx","assets/car.png","contexts/Location.tsx","pages/map/Map.tsx","utils/time.ts","Components/fleetStatus/VehiclesList.tsx","contexts/Messages.tsx","Components/fleetStatus/ContactsPage.tsx","Components/fleetStatus/MsgPage.tsx","Components/fleetStatus/FleetStatus.tsx","pages/checklists/CheckLists.tsx","pages/drivers/Drivers.tsx","pages/Estatistics/Estatistics.tsx","pages/Filters/Filters.tsx","pages/Finances/Finances.tsx","pages/fleet/Fleet.tsx","pages/fleetRoutes/fleetRoutes.tsx","pages/settings/Settings.tsx","pages/calls/Calls.tsx","Components/profileBall/ProfileBall.tsx","Components/layout/Layout.tsx","App.tsx","index.tsx"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","baseUrlServer","api","axios","create","baseURL","AuthContext","createContext","AuthContextProvider","props","useState","isAuthenticated","setIsAuthenticated","user","setUser","history","useHistory","a","signOut","toast","success","push","useEffect","unsubscribe","onAuthStateChanged","_user","Provider","value","signInWithGoogle","provider","GoogleAuthProvider","signInWithPopup","then","result","post","supervisorId","uid","supervisorName","displayName","supervisorPicture","photoURL","r","catch","err","error","console","log","children","Login","useContext","id","to","src","Logo","alt","Svg1","onClick","Home","className","LogoHeader","Instragram","Facebook","Linkedin","LayoutContext","LayoutContextProvider","currentLayout","setCurrentLayout","NavBar","active","setActive","LocationContext","LocationContextProvider","zoom","setZoom","counter","cords","setCords","drivers","setDrivers","accuracy","altitude","altitudeAccuracy","driverId","heading","maxTimestamp","speed","timestamp","latitude","longitude","cordOnFocus","changeCordsOnFocus","get","data","coordinates","setCordsOnFocus","vet","filter","i","MyComponent","map","useMapEvents","flyTo","lat","lng","getZoom","Map","MapContainer","style","width","height","zIndex","center","scrollWheelZoom","TileLayer","attribution","url","Marker","icon","L","iconUrl","carIcon","iconSize","position","getElapsedTime","totalSeconds","Date","now","parseInt","hours","Math","floor","minutes","seconds","VehiclesList","content","driverName","Last","lasCord","setLastCord","getDriverLocationTime","MessageContext","MessageContextProvider","messages","setMessages","buffer","setBuffer","usersOnline","setUsersOnline","currentChatUser","setCurrentChatUser","io","socket","setSocket","newSocket","query","type","on","message","senderId","newMsg","getTime","receiveMsg","close","getUsersOnline","emit","changeCurrentChatUser","chatUser","id1","id2","authId","sendMsg","msg","ContactsPage","goToChat","length","picture","name","MsgPage","goBack","text","setText","color","size","toLocaleTimeString","onChange","e","target","document","getElementById","FleetStatus","currentTab","setCurrentTab","CheckLists","Drivers","Estatistics","Filters","Finances","Fleet","FleetRoutes","Settings","Calls","ProfileBall","getCurrentLayout","param","Layout","Authenticated","path","exact","component","NotAuthenticated","Routes","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.c7ebcb53.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo-header.e4d97842.svg\";","export default __webpack_public_path__ + \"static/media/svg1.d936fc68.svg\";","import firebase from \"firebase/app\";\nimport \"firebase/analytics\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCq1k8AWxZ4DSjHjnzsked8ejZBJinyoNA\",\n  authDomain: \"seefleet.firebaseapp.com\",\n  projectId: \"seefleet\",\n  storageBucket: \"seefleet.appspot.com\",\n  messagingSenderId: \"815101815772\",\n  appId: \"1:815101815772:web:27e2ee02e42bfb6a5ffd19\",\n  measurementId: \"G-4M2ZWS3T9V\",\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nvar auth = firebase.auth();\nexport { firebase, auth };\n","import axios from \"axios\";\n\nexport const baseUrlServer = \"https://see-fleet.herokuapp.com/\";\n//export const baseUrlServer = \"http://localhost:3333/\";\n\nconst api = axios.create({\n  baseURL: baseUrlServer,\n});\n\nexport default api;\n","import { useEffect } from \"react\";\nimport { ReactNode } from \"react\";\nimport { useState } from \"react\";\nimport { createContext } from \"react\";\nimport { firebase, auth } from \"../services/firebase\";\nimport { useHistory } from \"react-router-dom\";\nimport api from \"../services/api\";\nimport toast, { Toaster } from \"react-hot-toast\";\n\ntype ComponentProps = {\n  children: ReactNode;\n};\n\ntype AuthObject = {\n  isAuthenticated: boolean;\n  signInWithGoogle: () => void;\n  signOut: () => void;\n  user: firebase.User;\n};\n\nexport const AuthContext = createContext({} as AuthObject);\n\nexport function AuthContextProvider(props: ComponentProps) {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [user, setUser] = useState<firebase.User>({} as firebase.User);\n  const history = useHistory();\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((_user) => {\n      if (_user) {\n        setIsAuthenticated(true);\n        setUser(_user);\n      }\n    });\n\n    return () => {\n      unsubscribe();\n    };\n  });\n\n  function signInWithGoogle() {\n    var provider = new firebase.auth.GoogleAuthProvider();\n    firebase\n      .auth()\n      .signInWithPopup(provider)\n      .then((result) => {\n        /** @type {firebase.auth.OAuthCredential} */\n\n        var user = result.user;\n        firebase.auth().signOut();\n        api\n          .post(\"supervisor\", {\n            supervisorId: user?.uid,\n            supervisorName: user?.displayName,\n            supervisorPicture: user?.photoURL,\n          })\n          .then((r) => {\n            toast.success(\"Login realizado com sucesso\");\n            setIsAuthenticated(true);\n            history.push(\"/\");\n          })\n          .catch(async (err) => {\n            toast.error(\"Erro no login, tente novamente\");\n            //signOut();\n            history.push(\"/\");\n          });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  async function signOut() {\n    await firebase.auth().signOut();\n    setIsAuthenticated(false);\n    toast.success(\"Logout realizado\");\n    history.push(\"/\");\n  }\n\n  return (\n    <AuthContext.Provider\n      value={{ user, isAuthenticated, signInWithGoogle, signOut }}\n    >\n      <Toaster />\n      {props.children}\n    </AuthContext.Provider>\n  );\n}\n","import \"../../styles/global.scss\";\nimport \"./login.scss\";\nimport { Link } from \"react-router-dom\";\nimport Logo from \"../../assets/logo-header.svg\";\nimport Svg1 from \"../../assets/svg1.svg\";\nimport GoogleIcon from \"../../assets/googleLogo.png\";\nimport { ArrowLeft } from \"react-feather\";\nimport { AuthContext } from \"../../contexts/Auth\";\nimport { useContext } from \"react\";\n\nexport function Login() {\n  const { signInWithGoogle } = useContext(AuthContext);\n\n  return (\n    <div id=\"login-container\">\n      <Link to=\"/\">\n        <ArrowLeft />\n      </Link>\n      <div id=\"left-side\">\n        <img src={Logo} alt=\"seeFleetLogo\" />\n      </div>\n      <div id=\"right-side\">\n        <img src={Svg1} alt=\"svg\" />\n        <h1>Bem Vindo/a!!</h1>\n        <p>Faça login para gerenciar sua frota de forma digital</p>\n        <div onClick={signInWithGoogle} id=\"google-login\">\n          <img src={GoogleIcon} alt=\"googleIcon\" />\n          <h2>Entrar com o Google</h2>\n        </div>\n      </div>\n    </div>\n  );\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAlCAYAAADFniADAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATiSURBVHgB3VhdbFRFFD4zd3db1rbbarv8hbTREqRIYuiuJfaB3dJowMZYSvuAKIUa44sRoxKKYCEWISaIGl98QRILFipgTGxUpG0of4Va0pBCoalZK0X7v/13u3vneO7Wli29d/+6bgzfy8zd883MNzPnnnPuAvwPwSBM9Ly4LF52xqVJerZCIE8FEPMYsL8Zshsej+hZIMU1sbo6D4SBkER12zLikM/bDEwq5CBWIbBEPxMPIuAFlLHKnPJ4BauqkiFIBCWqPzfT5BH8TcbwHX9C/MABgn9orm04Egw5oKhOuyVbx+EoXU06zB0Omuf5lHNX7/gjcX/G3rWWXXrO6iMkSEEaXWlLr93yKoQjqifXUiaA7Yc5vAxqQIS7btSd98dRXbA317pTIByACIMEOYSQ7AvrrjggFFFd5EOMswsQ3CpO4lYj4l1E1gMMU+iqMwBhFc28KBxBCnS+D7U2m47x0YpAg2jBi7RweUpN40+0K1SjdOdYi8lQxhj5UQiCJqf3Qd9a61sUTD71NwC52Gk+++vHWmJmi7Nsl4Xuu2AFzRCFjWB0/RbXOlL5xBIxaFBnI2wz11z7Cv5jTL997n59kfSoa0nCtjtoWO4UDxLJb/ZFQ5CC6ZPy/KI/S/eRO/Xsujgfx84v9NoptrTPP9cYqVgVEN6TaquGGJKX5WuIye5iCa+1Cm6aAJRFGUQR3pOYqNFnMQFX1AjygKEjtnA0NdBE9oODLzAZ8iBMINMfrd1lbFD63pBAGT8ZNYK7lORuhiDA3NwKnL0BYUICuZOahkk9ikpkK7XIQohbEAUIxKVTfT65MMRqkbkEPRAFIArz9JqTv8C4FpkEmyEKYIy7wVeUxPF3TTLniyEKoHTUNtX3OrqMUgtn6lnjLzl2PeAE5Vn/aUUwgVSfB0g9NA1BzYLivpt4CX3VkJBg0CunNaPUve0xQemQFTo9seuaNp35EeaInPLBw1Tfb1ezIcp5tbtNPyh97/U9th6GaIvXfUnHxtOh2LkG/hRG4JzvhkgUe0x6ScuEHtEy1b8fnBicVJphoYMdw8/gF6MZvmOyM7/ZuAPmgJz9Q8XUpKkaEa/X7U1yzBKl5+6KNne8c4vTBvWuBbNOhb5kDlor87dCGLAdGKDanH2iZRecfeb7PC2K2WHklSHbIeW6tEBR/4jlxIaQ8qB93/AaLvS15OJJ6nOCQxa9P/v+NuNEMk8WmuglaiRqoIqgnXP84GrR6eNahNWn85e7Xfxtw1jm1tjuEh0Tj6gThXi3Zk/CIU1RCiwVG7JBx+ohKMdmHbSBZrrbm7SZXip7ExmHxdSuptFPTrG4JxmM90qBu5NnjFZOqcvtWHZz71MTfkV5hVUWvE9NOUQQjNwipj8fDIPP/SsIB5iQrTV7Etsf5EpqE9z79lb9ooIVSsC0QcRUucFjvEE1/jhI4xkUZsUWEqT61eT3iqzHN5Yix48gglBOyOBJLbm8+fAZLU5Av7FWFTwrZDjGtGJMaLjkFvB686ZTLf5Ifv9LUHCt8NSl+Na+peSUlB7wDwgP/eT8741xbg8kSEFIqSPzyzwjJhiKOGcv08AsWihei0ubcFKkbiLeCb0kfX25qGo82HXCzmfpn6+LMaUYn6a6J5lizUqGGEt1zhi9Oh3oYi0jLpfjdsn3w/Cw4B+/Xtg8rEJB4wAAAABJRU5ErkJggg==\"","export default __webpack_public_path__ + \"static/media/Instagram.11f898b4.svg\";","export default __webpack_public_path__ + \"static/media/Linkedin.17efeff3.svg\";","export default __webpack_public_path__ + \"static/media/Facebook.5ed09535.svg\";","import \"../../styles/global.scss\";\nimport \"./home.scss\";\nimport { Link } from \"react-router-dom\";\nimport LogoHeader from \"../../assets/logo-header.svg\";\nimport Instragram from \"../../assets/Instagram.svg\";\nimport Linkedin from \"../../assets/Linkedin.svg\";\nimport Facebook from \"../../assets/Facebook.svg\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../../contexts/Auth\";\n\nexport function Home() {\n  const { isAuthenticated } = useContext(AuthContext);\n\n  return (\n    <div id=\"home-container\">\n      <div className=\"back-transparent-layer\">\n        <header>\n          <img src={LogoHeader} alt=\"seeFleet\" />\n          <ul>\n            <li>\n              <Link to=\"/\">Home</Link>\n            </li>\n            <li>\n              <Link to=\"/\">Nós</Link>\n            </li>\n            <li>\n              <Link to=\"/\">Soluções</Link>\n            </li>\n            <li>\n              <Link to=\"/\">Contato</Link>\n            </li>\n            <li className=\"login-btn\">\n              <Link to={isAuthenticated ? \"/app\" : \"/sign-in\"}>\n                {isAuthenticated ? \"Gerenciar Frota\" : \"Login\"}\n              </Link>\n            </li>\n            <li className=\"social-icon\">\n              <img src={Instragram} alt=\"Instagram\" />\n            </li>\n            <li className=\"social-icon\">\n              <img src={Facebook} alt=\"Facebook\" />\n            </li>\n            <li className=\"social-icon\">\n              <img src={Linkedin} alt=\"Linkedin\" />\n            </li>\n          </ul>\n        </header>\n        <h1>GESTÃO DIGITAL DE FROTAS</h1>\n        <div id=\"saiba\">\n          <h2>Saiba Mais</h2>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { ReactNode } from \"react\";\nimport { useState } from \"react\";\nimport { createContext } from \"react\";\n\ntype ComponentProps = {\n  children: ReactNode;\n};\n\nexport type Layout =\n  | \"map\"\n  | \"fleet\"\n  | \"settings\"\n  | \"drivers\"\n  | \"finances\"\n  | \"calls\"\n  | \"filters\"\n  | \"estatistics\"\n  | \"routes\"\n  | \"checks\";\n\ntype LayoutObject = {\n  currentLayout: Layout;\n  setCurrentLayout: (param: Layout) => void;\n};\n\nexport const LayoutContext = createContext({} as LayoutObject);\n\nexport function LayoutContextProvider(props: ComponentProps) {\n  const [currentLayout, setCurrentLayout] = useState<Layout>(\"map\");\n\n  return (\n    <LayoutContext.Provider value={{ currentLayout, setCurrentLayout }}>\n      {props.children}\n    </LayoutContext.Provider>\n  );\n}\n","import \"../../styles/global.scss\";\nimport \"./navBar.scss\";\nimport { AuthContext } from \"../../contexts/Auth\";\nimport { useContext } from \"react\";\nimport Logo from \"../../assets/logo-header.svg\";\n\nimport {\n  Map,\n  Truck,\n  Settings,\n  Users,\n  TrendingUp,\n  PhoneCall,\n  Layers,\n  BarChart2,\n  Compass,\n  CheckSquare,\n  LogOut,\n  Menu,\n  XCircle,\n} from \"react-feather\";\nimport { useState } from \"react\";\nimport { LayoutContext } from \"../../contexts/Layout\";\n\nexport function NavBar() {\n  const { currentLayout, setCurrentLayout } = useContext(LayoutContext);\n  const { signOut } = useContext(AuthContext);\n  const [active, setActive] = useState(false);\n\n  function toggleBar() {\n    setActive(!active);\n  }\n\n  return (\n    <div id=\"side-bar\" className={active ? \"open\" : \"close\"}>\n      <ul>\n        <li\n          className={`list-item ${active ? \"open\" : \"close\"}`}\n          onClick={toggleBar}\n        >\n          {active ? <XCircle /> : <Menu />}\n          {active ? <img id=\"nav-logo\" src={Logo} alt=\"Logo\" /> : null}\n        </li>\n        <li\n          onClick={() => setCurrentLayout(\"map\")}\n          className={`list-item ${currentLayout === \"map\" ? \"current\" : \"\"} ${\n            active ? \"open\" : \"close\"\n          }`}\n        >\n          <Map />\n          <h2>Mapa</h2>\n        </li>\n        <li\n          onClick={() => setCurrentLayout(\"drivers\")}\n          className={`list-item ${\n            currentLayout === \"drivers\" ? \"current\" : \"\"\n          } ${active ? \"open\" : \"close\"}`}\n        >\n          <Users />\n          <h2>Motoristas</h2>\n        </li>\n        <li\n          onClick={() => setCurrentLayout(\"fleet\")}\n          className={`list-item ${currentLayout === \"fleet\" ? \"current\" : \"\"} ${\n            active ? \"open\" : \"close\"\n          }`}\n        >\n          <Truck />\n          <h2>Minha Frota</h2>\n        </li>\n        <li\n          onClick={() => setCurrentLayout(\"settings\")}\n          className={`list-item ${\n            currentLayout === \"settings\" ? \"current\" : \"\"\n          } ${active ? \"open\" : \"close\"}`}\n        >\n          <Settings />\n          <h2>Configurações</h2>\n        </li>\n\n        <li\n          onClick={() => setCurrentLayout(\"finances\")}\n          className={`list-item ${\n            currentLayout === \"finances\" ? \"current\" : \"\"\n          } ${active ? \"open\" : \"close\"}`}\n        >\n          <TrendingUp />\n          <h2>Finanças</h2>\n        </li>\n        <li\n          onClick={() => setCurrentLayout(\"calls\")}\n          className={`list-item ${currentLayout === \"calls\" ? \"current\" : \"\"} ${\n            active ? \"open\" : \"close\"\n          }`}\n        >\n          <PhoneCall />\n          <h2>Chamadas</h2>\n        </li>\n        <li\n          onClick={() => setCurrentLayout(\"filters\")}\n          className={`list-item ${\n            currentLayout === \"filters\" ? \"current\" : \"\"\n          } ${active ? \"open\" : \"close\"}`}\n        >\n          <Layers />\n          <h2>Filtros</h2>\n        </li>\n        <li\n          onClick={() => setCurrentLayout(\"estatistics\")}\n          className={`list-item ${\n            currentLayout === \"estatistics\" ? \"current\" : \"\"\n          } ${active ? \"open\" : \"close\"}`}\n        >\n          <BarChart2 />\n          <h2>Estatística</h2>\n        </li>\n        <li\n          onClick={() => setCurrentLayout(\"routes\")}\n          className={`list-item ${\n            currentLayout === \"routes\" ? \"current\" : \"\"\n          } ${active ? \"open\" : \"close\"}`}\n        >\n          <Compass />\n          <h2>Rotas</h2>\n        </li>\n        <li\n          onClick={() => setCurrentLayout(\"checks\")}\n          className={`list-item ${\n            currentLayout === \"checks\" ? \"current\" : \"\"\n          } ${active ? \"open\" : \"close\"}`}\n        >\n          <CheckSquare />\n          <h2>Check-Lists</h2>\n        </li>\n        <li\n          onClick={signOut}\n          className={`list-item ${active ? \"open\" : \"close\"}`}\n        >\n          <LogOut />\n          <h2>Log out</h2>\n        </li>\n      </ul>\n    </div>\n  );\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAdCAYAAAAD8oRRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAASnSURBVHgB1VhbTBxlFP5mdrgs11lCaIWKQy+mMWBIKUjSAtt4iUlNoNFGiT5sH/qgvkA0MT6YlvhQXwzlSUMfuj7YpNREeDCx+sCuQFwbKURr29haRkxbpBS2XLbrXub3/JPOsrvMSPfiNv2Szcw5859z9vznnO+fXQFxWHK1KnnQZvD/Qw0jdMDhnlaRBYjxgoSIgtyANit/dNXV3IgsQIoXBNjIKYvJ+Z1HIVQ+YWoYnfIictELoagU+d29SAXRq5OITHyjUERK5Lm+EvdPJ5EBEpJg0BSBUjEg7t4DG33MoC3cAigJFJVA2n8QKQWl9bbdTQiNnJLZwu3+NVdLebH7Qh/ShJgoCk8hR+CJ2D/4DNK+g7z2x6m1+pEmEpIQwBTkELxVl155G1eaXqX76p5VV8vUkqtRQYpIrkRWBi0VTE/9hveHJuF99nVIezoa+cCnmkhsAMzoVax9mga3xNRQW7gN6md9sMXaXUgX399YwadXwnixrhTvPZNHQ3+Rq/00n4dK3T97HsaHtH7D6TWxMNrs75s6YIEVI3Ba0Fb4JlWifm2G/KwaalmAOEoDP6yB/SkIwlSYhbxW50osiWR6zRUGFyrQUBjEC6WrG57Rt+nS2ZJuqM1Aw+8OI9yXnIy4bqApeAQYqpvFJzVzD7lacFEyM3S29MRr4/onfXr9ca0Ia5qI3IH1L7taugwpFjkTeh25V4Yb/+QjV/DRph2d3Xba6eySuRxfibTp9U2HH1VSBLnA3xEJH89VYS4syZqWf4zrdIolFjjGT008BvjlfiE+vLXVEP2CLVQnrrj2Oh+XBDh2FISwZb3qMkJ5isho4jcz5EOb28GltglLpvpiUcMJYjNOyXoyIpMF4t4pq3ngpTuzJONXunJwo9aSgD4D3Fm2YcTjJGFs2nba+c7yZdNzhKPEfUGgJFpMT7gvydmZRdnUkCdzonoOW/KyN8zDxHCn6OCzQmtxAB9tnd+g50mY9ghnAKsEjOf9dyqRLXDK/K8EjDWDdzeuuU/vfDwJNfnB4J31xYX2AjQ316O9vQmOirKYnreY0WaZYjApAauYI/4y05g0PUylmVDilb5AkX7lDt55txsVFeW63HnoeXz37QTOn5/QZX5SN9iDyAS8/3llDaQaM4qoTJUQR+Kdxjtsb98bc2bgpZf3wU47lbw2Xcwn+Ug1JgOTxbfUbR1W9FlTU2Wqr7bQp4PVpNjpxJT8wWhvmYhe4w2kWtKpk2gX8s2b89ixs3aD0dLisn69Fixw2yCm/QOf43KggNP714a8WczrwYIBiqn/OxJEod/h9vglj29YtfsSDTranpymOXGO/TCJ+oZdCeXlvbm4eE+/XwyJA3a3T0VmUDvaDnt4PC5sFvNuMHoyOaZg5tXpfENhUU2vBndW37ATDkc5Ll26hj+u/2WYur1jZ48gC3Duf83JBHHUkK1iCgx9nvGh48n2gqXjtsMueiU5bfpQYNOCGD7g8Qz7kSU8iMf/tpHNQ7IBz/i5HrNnNlhAnb08Xbe94QvGmIMyVUjFCVql3Rjwjp3rVtWrmXGrebyzD+LxRPjHD8Z89FvniGf8q8+tbP8FLJPUD3hpwiEAAAAASUVORK5CYII=\"","import { ReactNode } from \"react\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { createContext } from \"react\";\nimport api from \"../services/api\";\n\ntype ComponentProps = {\n  children: ReactNode;\n};\n\nexport type DriverProps = {\n  driverId: string;\n  driverName: string;\n  driverPicture: string;\n};\n\nexport type CordType = {\n  driverId: string;\n  latitude: number;\n  longitude: number;\n  accuracy: number;\n  heading: number;\n  altitude: number;\n  altitudeAccuracy: number;\n  speed: number;\n  timestamp: string;\n  maxTimestamp: string;\n};\n\ntype LocationObject = {\n  cords: CordType[];\n  drivers: DriverProps[];\n  cordOnFocus: CordType;\n  setCordsOnFocus: (driverId: string) => void;\n  zoom?: number;\n};\n\nexport const LocationContext = createContext({} as LocationObject);\n\nexport function LocationContextProvider(props: ComponentProps) {\n  const [zoom, setZoom] = useState(15);\n\n  const [counter, setCounter] = useState(0);\n\n  const [cords, setCords] = useState<CordType[]>([]);\n  const [drivers, setDrivers] = useState<DriverProps[]>([]);\n\n  const [cordOnFocus, changeCordsOnFocus] = useState<CordType>({\n    accuracy: 0,\n    altitude: 0,\n    altitudeAccuracy: 0,\n    driverId: \"0\",\n    heading: 0,\n    maxTimestamp: \"\",\n    speed: 0,\n    timestamp: \"\",\n    latitude: -25.5415553,\n    longitude: -54.5508768,\n  });\n\n  useEffect(() => {\n    api.get(\"all_last_coordinates\").then((r) => {\n      const data = r.data;\n      setCords(data.coordinates);\n    });\n\n    api.get(\"all_drivers\").then((r) => {\n      const data = r.data;\n      setDrivers(data);\n    });\n  }, [counter]);\n\n  function setCordsOnFocus(driverId: string) {\n    console.log(\"oi\");\n    const vet = cords.filter((i) => {\n      return i.driverId === driverId;\n    });\n    console.log(vet[0].longitude);\n    setZoom(zoom + 1);\n    changeCordsOnFocus(vet[0]);\n  }\n\n  return (\n    <LocationContext.Provider\n      value={{ cordOnFocus, setCordsOnFocus, cords, drivers, zoom }}\n    >\n      {props.children}\n    </LocationContext.Provider>\n  );\n}\n","import { MapContainer, TileLayer, Marker, useMapEvents } from \"react-leaflet\";\nimport L from \"leaflet\";\nimport carIcon from \"../../assets/car.png\";\nimport \"./map.scss\";\n\nimport { useContext } from \"react\";\nimport { LocationContext } from \"../../contexts/Location\";\nimport { useEffect } from \"react\";\n\nfunction getIcon() {\n  return L.icon({\n    iconUrl: carIcon,\n\n    iconSize: [50, 29],\n  });\n}\n\nfunction MyComponent() {\n  const { cordOnFocus } = useContext(LocationContext);\n  const map = useMapEvents({});\n\n  useEffect(() => {\n    map.flyTo(\n      { lat: cordOnFocus.latitude, lng: cordOnFocus.longitude },\n      map.getZoom()\n    );\n  }, [cordOnFocus, map]);\n\n  return null;\n}\n\nexport function Map() {\n  const { cords } = useContext(LocationContext);\n\n  return (\n    <div id=\"map-cont\">\n      <MapContainer\n        style={{ width: \"100%\", height: \"100%\", zIndex: 0 }}\n        center={[-25.5415553, -54.5508768]}\n        zoom={13}\n        scrollWheelZoom={true}\n      >\n        <TileLayer\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png\"\n        />\n        {cords.map((i) => {\n          return (\n            <Marker\n              key={i.driverId}\n              icon={getIcon()}\n              position={[i.latitude, i.longitude]}\n            ></Marker>\n          );\n        })}\n\n        <MyComponent />\n      </MapContainer>\n    </div>\n  );\n}\n/*\n\n*/\n","export function getElapsedTime(timestamp: string) {\n  const totalSeconds = (Date.now() - parseInt(timestamp)) / 1000;\n\n  const hours = Math.floor(totalSeconds / 3600);\n  const minutes = Math.floor((totalSeconds % 3600) / 60);\n  const seconds = Math.floor((totalSeconds % 3600) % 60);\n\n  if (hours !== 0) {\n    return `${hours}h`;\n  } else if (minutes !== 0) {\n    return `${minutes}Min`;\n  } else return `${seconds}S`;\n}\n","import { DriverProps, LocationContext } from \"../../contexts/Location\";\nimport carIcon from \"../../assets/car.png\";\nimport { useContext } from \"react\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport api from \"../../services/api\";\nimport { getElapsedTime } from \"../../utils/time\";\n\ntype Params = {\n  content: DriverProps[];\n};\n\nexport function VehiclesList({ content }: Params) {\n  const { setCordsOnFocus } = useContext(LocationContext);\n\n  return (\n    <div id=\"scroll-zone\">\n      <ul id=\"vehicles-list\">\n        {content.map((i) => {\n          return (\n            <li onClick={() => setCordsOnFocus(i.driverId)} key={i.driverId}>\n              <img src={carIcon} alt=\"carIcon\" />\n              <div className=\"text\">\n                <h4>{i.driverName}</h4>\n                <Last driverId={i.driverId} />\n              </div>\n              <strong>90km/h</strong>\n              <div className=\"status-ball\"></div>\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n}\n\nfunction Last({ driverId }: { driverId: string }) {\n  const [lasCord, setLastCord] = useState(\"\");\n\n  const getDriverLocationTime = async (id: string) => {\n    const result = await api.get(`last_coordinate/driver_id=${id}`);\n    if (result) {\n      setLastCord(getElapsedTime(result.data[0].timestamp));\n    } else {\n      setLastCord(\"indefinido\");\n    }\n  };\n\n  useEffect(() => {\n    getDriverLocationTime(driverId);\n  }, [driverId]);\n\n  return <p>{`Última atualização: ${lasCord}`}</p>;\n}\n","import { ReactNode } from \"react\";\nimport { useEffect } from \"react\";\nimport { useContext } from \"react\";\nimport { useState } from \"react\";\nimport { createContext } from \"react\";\nimport { io } from \"socket.io-client\";\nimport { baseUrlServer } from \"../services/api\";\nimport { AuthContext } from \"./Auth\";\n\ntype ComponentProps = {\n  children: ReactNode;\n};\n\nexport type ChatUserProps = {\n  authId: string;\n  name: string;\n  picture: string;\n  type: string;\n};\n\nexport type MessageProps = {\n  supervisorId: string;\n  driverId: string;\n  message: string;\n  senderId: string;\n  timestamp?: number;\n};\n\nexport type MessageObject = {\n  getUsersOnline: () => void;\n  usersOnline: ChatUserProps[];\n  currentChatUser?: ChatUserProps;\n  changeCurrentChatUser: (value: ChatUserProps) => void;\n  messages: MessageProps[];\n  sendMsg: (value: string) => void;\n};\n\nexport const MessageContext = createContext({} as MessageObject);\n\nexport function MessageContextProvider(props: ComponentProps) {\n  const { user } = useContext(AuthContext);\n\n  const [messages, setMessages] = useState<MessageProps[]>([]);\n  const [buffer, setBuffer] = useState<MessageProps>();\n\n  const [usersOnline, setUsersOnline] = useState<ChatUserProps[]>([]);\n  const [currentChatUser, setCurrentChatUser] = useState<ChatUserProps>();\n\n  const [socket, setSocket] = useState(io());\n\n  useEffect(() => {\n    console.log(messages);\n  }, [messages]);\n\n  useEffect(() => {\n    if (typeof buffer !== \"undefined\") {\n      setMessages([...messages, buffer]);\n    }\n  }, [buffer]);\n\n  useEffect(() => {\n    const newSocket = io(baseUrlServer, {\n      query: {\n        id: user.uid,\n        type: \"supervisor\",\n      },\n    });\n\n    newSocket.on(\"disconnect\", () => {\n      console.log(\"client desconectado\");\n    });\n\n    newSocket.on(\"message\", (data) => {\n      console.log(data);\n      receiveMsg(data.message, data.driverId, data.supervisorId, data.senderId);\n    });\n\n    setSocket(newSocket);\n\n    return () => {\n      newSocket.close();\n    };\n  }, []);\n\n  function getUsersOnline() {\n    socket.emit(\"online\", {}, (data: any) => {\n      console.log(data);\n\n      setUsersOnline(data);\n    });\n  }\n\n  function changeCurrentChatUser(chatUser: ChatUserProps) {\n    setMessages([]);\n    setCurrentChatUser(chatUser);\n\n    socket.emit(\"chat\", {\n      id1: user.uid,\n      id2: chatUser.authId,\n    });\n  }\n\n  function receiveMsg(\n    message: string,\n    driverId: string,\n    supervisorId: string,\n    senderId: string\n  ) {\n    console.log(message);\n    const newMsg: MessageProps = {\n      driverId: driverId,\n      message: message,\n      senderId: senderId,\n      supervisorId: supervisorId,\n      timestamp: new Date().getTime(),\n    };\n\n    setBuffer(newMsg);\n  }\n\n  function sendMsg(msg: string) {\n    socket.emit(\"message\", {\n      driverId: currentChatUser?.authId || \"\",\n      message: msg,\n      senderId: user.uid,\n      supervisorId: user.uid,\n    });\n\n    const newMsg: MessageProps = {\n      driverId: currentChatUser?.authId || \"\",\n      message: msg,\n      senderId: user.uid,\n      supervisorId: user.uid,\n      timestamp: new Date().getTime(),\n    };\n    setBuffer(newMsg);\n  }\n\n  return (\n    <MessageContext.Provider\n      value={{\n        currentChatUser,\n        usersOnline,\n        getUsersOnline,\n        changeCurrentChatUser,\n        messages,\n        sendMsg,\n      }}\n    >\n      {props.children}\n    </MessageContext.Provider>\n  );\n}\n","import { useEffect } from \"react\";\nimport { useContext } from \"react\";\nimport { MessageContext } from \"../../contexts/Messages\";\n\ntype ContactsPageParams = {\n  goToChat: () => void;\n};\n\nexport function ContactsPage({ goToChat }: ContactsPageParams) {\n  const { getUsersOnline, usersOnline, changeCurrentChatUser } =\n    useContext(MessageContext);\n\n  useEffect(() => {\n    getUsersOnline();\n  }, []);\n\n  return (\n    <div id=\"scroll-zone\">\n      <ul id=\"msg-list\">\n        {usersOnline.length === 0 ? (\n          <li>\n            <div id=\"msg-info1\">\n              <h3>Nenhum usuário online no momento</h3>\n            </div>\n          </li>\n        ) : (\n          \"\"\n        )}\n        {usersOnline.map((i) => {\n          return (\n            <li\n              onClick={() => {\n                changeCurrentChatUser(i);\n                goToChat();\n              }}\n              key={i.authId}\n            >\n              <img src={i.picture} alt=\"profile\" />\n              <div id=\"msg-info1\">\n                <h3>{i.name}</h3>\n              </div>\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n}\n","import \"./msg-page.scss\";\nimport { Play, ArrowLeft } from \"react-feather\";\nimport { useContext } from \"react\";\nimport { MessageContext } from \"../../contexts/Messages\";\nimport { AuthContext } from \"../../contexts/Auth\";\nimport { useRef } from \"react\";\nimport { getElapsedTime } from \"../../utils/time\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\n\ntype MsgPageParams = {\n  goBack: () => void;\n};\n\nexport function MsgPage({ goBack }: MsgPageParams) {\n  const { user } = useContext(AuthContext);\n  const { currentChatUser, messages, sendMsg } = useContext(MessageContext);\n\n  const [text, setText] = useState(\"\");\n  return (\n    <div className=\"msg-page\">\n      <div className=\"msg-header\">\n        <ArrowLeft\n          onClick={goBack}\n          className=\"back-btn\"\n          color=\"#505050\"\n          size={20}\n        />\n        <div className=\"contact\">\n          <p>{currentChatUser?.name}</p>\n          <img src={currentChatUser?.picture} alt=\"img\" />\n        </div>\n      </div>\n\n      <div className=\"msg-scroll-zone\">\n        );\n        {messages.map((i) =>\n          i.senderId === user.uid ? (\n            <div key={i.message} className=\"msg-body-sent\">\n              <div className=\"msg-data\">\n                <div className=\"msg-text\">{i.message}</div>\n                <div className=\"msg-time\">\n                  {i.timestamp\n                    ? new Date(i.timestamp).toLocaleTimeString()\n                    : \"\"}\n                </div>\n              </div>\n              <img src={user.photoURL || \"\"} alt=\"img\" />\n            </div>\n          ) : (\n            <div className=\"msg-body-received\">\n              <img src={currentChatUser?.picture} alt=\"img\" />\n              <div className=\"msg-data\">\n                <div className=\"msg-text\">{i.message}</div>\n                <div className=\"msg-time\">\n                  {i.timestamp\n                    ? new Date(i.timestamp).toLocaleTimeString()\n                    : \"\"}\n                </div>\n              </div>\n            </div>\n          )\n        )}\n      </div>\n      <div className=\"msg-edit-zone\">\n        <textarea\n          onChange={(e) => {\n            setText(e.target.value);\n          }}\n          value={text}\n          name=\"msg\"\n          id=\"chat-msg-input\"\n        ></textarea>\n        <div\n          onClick={() => {\n            sendMsg(text);\n            setText(\"\");\n            let obj = document.getElementById(\"msg-scroll-zone\");\n          }}\n          className=\"send-btn\"\n        >\n          <Play />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import \"./fleetStatus.scss\";\nimport { useState } from \"react\";\nimport { useContext } from \"react\";\nimport { LocationContext } from \"../../contexts/Location\";\nimport { useEffect } from \"react\";\nimport io from \"socket.io-client\";\nimport { MessageSquare } from \"react-feather\";\nimport { useRef } from \"react\";\nimport { VehiclesList } from \"./VehiclesList\";\nimport { MsgList } from \"./MsgList\";\nimport { ContactsPage } from \"./ContactsPage\";\nimport { MsgPage } from \"./MsgPage\";\nimport { MessageContextProvider } from \"../../contexts/Messages\";\n\nconst vet = [\n  1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,\n];\n\nexport function FleetStatus() {\n  const [currentTab, setCurrentTab] = useState(0);\n  const { drivers } = useContext(LocationContext);\n  const [driverOnFocus, setDriverOnFocus] = useState(\"\");\n\n  return (\n    <div id=\"fleet-status-container\">\n      <div id=\"status-menu\">\n        <div\n          onClick={() => setCurrentTab(0)}\n          className={`status-menu-item ${currentTab === 0 ? \"clicked\" : \"\"}`}\n        >\n          <h3>Usuários</h3>\n        </div>\n\n        <div\n          onClick={() => {\n            setCurrentTab(1);\n          }}\n          className={`status-menu-item ${\n            currentTab === 1 || currentTab === 2 ? \"clicked\" : \"\"\n          }`}\n        >\n          <h3>Mensagens</h3>\n        </div>\n      </div>\n\n      <div id=\"content\">\n        {currentTab === 0 ? <VehiclesList content={drivers} /> : \"\"}\n        <MessageContextProvider>\n          {currentTab === 1 ? (\n            <ContactsPage goToChat={() => setCurrentTab(2)} />\n          ) : (\n            \"\"\n          )}\n          {currentTab === 2 ? <MsgPage goBack={() => setCurrentTab(1)} /> : \"\"}\n        </MessageContextProvider>\n      </div>\n    </div>\n  );\n}\n\n/**\n * \n *  {currentTab === 1 ? (\n          <div onClick={() => setCurrentTab(2)} id=\"new-msg-btn\">\n            <MessageSquare />\n          </div>\n        ) : (\n          \"\"\n        )}\n */\n","import \"../../styles/global.scss\";\nexport function CheckLists() {\n  return (\n    <div>\n      <h1>CheckLists</h1>\n    </div>\n  );\n}\n","import \"../../styles/global.scss\";\nexport function Drivers() {\n  return (\n    <div>\n      <h1>Drivers</h1>\n    </div>\n  );\n}\n","import \"../../styles/global.scss\";\nexport function Estatistics() {\n  return (\n    <div>\n      <h1>Estatistics</h1>\n    </div>\n  );\n}\n","import \"../../styles/global.scss\";\nexport function Filters() {\n  return (\n    <div>\n      <h1>Filters</h1>\n    </div>\n  );\n}\n","import \"../../styles/global.scss\";\nexport function Finances() {\n  return (\n    <div>\n      <h1>Finances</h1>\n    </div>\n  );\n}\n","import \"../../styles/global.scss\";\nexport function Fleet() {\n  return (\n    <div>\n      <h1>Fleet</h1>\n    </div>\n  );\n}\n","import \"../../styles/global.scss\";\nexport function FleetRoutes() {\n  return (\n    <div>\n      <h1>Fleet routes</h1>\n    </div>\n  );\n}\n","import \"../../styles/global.scss\";\nexport function Settings() {\n  return (\n    <div>\n      <h1>Settings</h1>\n    </div>\n  );\n}\n","import \"../../styles/global.scss\";\nexport function Calls() {\n  return (\n    <div>\n      <h1>Calls</h1>\n    </div>\n  );\n}\n","import { useContext } from \"react\";\nimport { Bell } from \"react-feather\";\nimport { AuthContext } from \"../../contexts/Auth\";\nimport \"./profileBall.scss\";\n\nconst profileAvatar =\n  \"https://t3.ftcdn.net/jpg/03/46/83/96/360_F_346839683_6nAPzbhpSkIpb8pmAwufkC7c5eD7wYws.jpg\";\n\nfunction profilePicture(url: string) {\n  if (url) {\n    return url;\n  } else {\n    return profileAvatar;\n  }\n}\n\nexport function ProfileBall() {\n  var { user } = useContext(AuthContext);\n\n  return (\n    <div id=\"top-right-container\">\n      <div id=\"notications-icon\">\n        <div id=\"notification-number\">\n          <h3>12</h3>\n        </div>\n        <Bell size={40} color=\"#3F3D56\" />\n      </div>\n      <div id=\"ball\">\n        <img src={profilePicture(user.photoURL as string)} alt=\"\" />\n      </div>\n    </div>\n  );\n}\n","import { NavBar } from \"../navBar/NavBar\";\nimport \"../../styles/global.scss\";\nimport \"./layoutScreen.scss\";\nimport { Map } from \"../../pages/map/Map\";\nimport { FleetStatus } from \"../fleetStatus/FleetStatus\";\nimport { useContext } from \"react\";\nimport { LayoutContext, Layout as LayoutProps } from \"../../contexts/Layout\";\nimport { CheckLists } from \"../../pages/checklists/CheckLists\";\nimport { Drivers } from \"../../pages/drivers/Drivers\";\nimport { Estatistics } from \"../../pages/Estatistics/Estatistics\";\nimport { Filters } from \"../../pages/Filters/Filters\";\nimport { Finances } from \"../../pages/Finances/Finances\";\nimport { Fleet } from \"../../pages/fleet/Fleet\";\nimport { FleetRoutes } from \"../../pages/fleetRoutes/fleetRoutes\";\nimport { Settings } from \"../../pages/settings/Settings\";\nimport { Calls } from \"../../pages/calls/Calls\";\nimport { ProfileBall } from \"../profileBall/ProfileBall\";\n\nfunction getCurrentLayout(param: LayoutProps) {\n  switch (param) {\n    case \"calls\":\n      return <Calls />;\n    case \"checks\":\n      return <CheckLists />;\n    case \"drivers\":\n      return <Drivers />;\n    case \"estatistics\":\n      return <Estatistics />;\n    case \"filters\":\n      return <Filters />;\n    case \"finances\":\n      return <Finances />;\n    case \"fleet\":\n      return <Fleet />;\n    case \"map\":\n      return <Map />;\n    case \"routes\":\n      return <FleetRoutes />;\n    case \"settings\":\n      return <Settings />;\n  }\n}\n\nexport function Layout() {\n  const { currentLayout } = useContext(LayoutContext);\n  return (\n    <>\n      <div id=\"layout-screen-container\">\n        <NavBar />\n        <ProfileBall />\n        {getCurrentLayout(currentLayout)}\n        <FleetStatus />\n      </div>\n    </>\n  );\n}\n","import { Login } from \"./pages/login/Login\";\nimport { Home } from \"./pages/home/Home\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport { AuthContext, AuthContextProvider } from \"./contexts/Auth\";\nimport { useContext } from \"react\";\nimport { LayoutContextProvider } from \"./contexts/Layout\";\nimport { Layout } from \"./Components/layout/Layout\";\nimport { LocationContextProvider } from \"./contexts/Location\";\n\nfunction Authenticated() {\n  return (\n    <LayoutContextProvider>\n      <LocationContextProvider>\n        <Switch>\n          <Route path=\"/app\" exact component={Layout} />\n          <Route path=\"/\" exact component={Home} />\n        </Switch>\n      </LocationContextProvider>\n    </LayoutContextProvider>\n  );\n}\n\nfunction NotAuthenticated() {\n  return (\n    <Switch>\n      <Route path=\"/sign-in\" exact component={Login} />;\n      <Route path=\"/\" exact component={Home} />\n    </Switch>\n  );\n}\n\nfunction Routes() {\n  const { isAuthenticated } = useContext(AuthContext);\n\n  return isAuthenticated ? <Authenticated /> : <NotAuthenticated />;\n}\n\nfunction App() {\n  return (\n    <div>\n      <BrowserRouter>\n        <AuthContextProvider>\n          <Routes />\n        </AuthContextProvider>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\n//import \"./services/firebase\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}